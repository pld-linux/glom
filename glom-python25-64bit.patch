diff -urN glom-1.2.2/glom/libglom/python_embed/py_glom_record.cc glom-1.2.2.new/glom/libglom/python_embed/py_glom_record.cc
--- glom-1.2.2/glom/libglom/python_embed/py_glom_record.cc	2006-10-10 18:04:38.000000000 +0200
+++ glom-1.2.2.new/glom/libglom/python_embed/py_glom_record.cc	2006-12-21 23:15:40.000000000 +0100
@@ -170,7 +170,7 @@
 
 
 
-static int
+static Py_ssize_t
 Record_tp_as_mapping_length(PyGlomRecord *self)
 {
   return self->m_pMap_field_values->size();
diff -urN glom-1.2.2/glom/libglom/python_embed/py_glom_related.cc glom-1.2.2.new/glom/libglom/python_embed/py_glom_related.cc
--- glom-1.2.2/glom/libglom/python_embed/py_glom_related.cc	2006-05-27 17:44:17.000000000 +0200
+++ glom-1.2.2.new/glom/libglom/python_embed/py_glom_related.cc	2006-12-21 23:16:16.000000000 +0100
@@ -102,7 +102,7 @@
 }
 
 
-static int
+static Py_ssize_t
 Related_tp_as_mapping_length(PyGlomRelated *self)
 {
   return self->m_pMap_relationships->size();
diff -urN glom-1.2.2/glom/libglom/python_embed/py_glom_relatedrecord.cc glom-1.2.2.new/glom/libglom/python_embed/py_glom_relatedrecord.cc
--- glom-1.2.2/glom/libglom/python_embed/py_glom_relatedrecord.cc	2006-05-27 11:26:37.000000000 +0200
+++ glom-1.2.2.new/glom/libglom/python_embed/py_glom_relatedrecord.cc	2006-12-21 23:16:37.000000000 +0100
@@ -140,7 +140,7 @@
 */
 
 
-static int
+static Py_ssize_t
 RelatedRecord_tp_as_mapping_length(PyGlomRelatedRecord *self)
 {
   return self->m_pMap_field_values->size();
